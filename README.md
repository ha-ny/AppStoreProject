# **Store App**       
<img width="910" alt="스크린샷 2023-11-14 오후 6 18 31" src="https://github.com/ha-ny/AppStoreProject/assets/130643750/29db5ec4-21f9-487f-a3ac-6c03fe69a4f8">

### **소개**
애플 iTunes API를 활용하여 앱 검색 및 정보 공유 기능을 제공합니다. <br>
선택한 앱에 대한 연령, 평가, 언어 지원 등 다양한 정보를 쉽게 확인할 수 있습니다.<br>
또한, 최신 버전 정보, 프로모션 텍스트, 그리고 앱의 자세한 설명까지 손쉽게 찾아볼 수 있습니다.<br>

### **앱 기능**
1. 검색: 추천 앱과 게임 리스트를 통해 상세화면으로 이동 및 원하는 앱 검색이 가능합니다.
2. 검색 리스트: 앱의 스크린샷을 통해 미리 보기가 가능하며, 선택시 상세 화면으로 이동합니다.
3. 상세화면: 앱의 상세 정보, 최신 버전, 그리고 자세한 설명을 확인할 수 있습니다.
4. 공유 기능:URL을 통해 앱을 공유할 수 있습니다.<br>

### **개발**
기간: 2023.11.08 ~ 2023.11.14<br>
최소 지원 버전: iOS 13<br>

### **기술**
**Architecture :** `MVVM`<br>
**UI :** `UIKit` `CodeBaseUI` `UIActivityViewController` `SnapKit`<br>
**Etc :** `RXSwift` `RXCocoa` `RXDataSource` `URLSession` `Codable`<br>

### **기능 구현**
- `RxSwift` : 이벤트 기반 프로그래밍을 통한 코드의 단순화 및 비동기 작업 처리
- `RxDataSources` : 테이블 뷰 데이터 관리를 통한 UI 업데이트
- `MVVM` : 구조화된 아키텍처를 통한 코드의 가독성 및 유지 보수성 개선
- `Extension`을 통한 작업 분리: `DispatchQueue`를 사용한 이미지 URL 비동기 다운로드
- `URLSession` 와 `Codable` 프로토콜을 이용한 네트워크 요청 및 데이터 디코딩
- `UIActivityViewController` 를 활용한 Url 공유<br>

### **트러블 슈팅**
**1. SnapKit 제약조건 충돌**
- **문제 상황:** 이미지 뷰의 셀 구성이 특정 상황에 따라 가로 또는 세로로 달라지도록 구성했습니다. 이로 인해 기존에 설정된 제약 조건에 충돌이 발생하여 레이아웃이 제대로 구성되지 않는 문제가 발생했습니다.<br>
- **해결 방법:** 기존에 설정된 뷰의 제약 조건을 삭제하고 객체를 제거하여 충돌을 해결했습니다. 새로운 이미지 뷰의 제약 조건을 수정하여 셀의 레이아웃을 적절히 재구성합니다.<br>

**2. Leaks Instruments**
- **문제 상황:** Leaks Instruments를 사용하여 테스트 중 메모리 누수가 발생하고 있음을 확인했습니다.<br>
분석 결과 검색 시 데이터 조회 방식이 아닌 매번 새로운 뷰를 present하는 과정에서 뷰가 중첩되며 메모리 누수가 발생했습니다.<br>
- **해결 방법:** 검색 텍스트를 subscribe하여 데이터를 조회하는 방식으로 코드를 작성하였고, 검색 버튼 클릭 시 변경함으로써 UI가 업데이트됩니다.<br>

### **회고**
앱 컨셉 기획 중 라이브러리 의존성을 최소화하는 것을 목표로 설정했습니다. 라이브러리 배제를 통해 필요한 기능을 직접 구현하면서 KingFisher의 dispatchQueue를 활용한 비동기 작업 및 Alamofire 대신 URLSession 코드 구현 등 새로운 경험을 쌓았습니다.<br>

간단한 Observable을 통한 MVVM 구현은 이미 출시 프로젝트에서 진행한 경험이 있어, RX 사용을 두 번째 목표로 설정했기에 RXSwift와 RXDataSource를 사용하여 개발했습니다. 특히 RXDataSource를 도입하며 여러 시행착오를 겪었습니다.<br>

데이터 소스의 구조와 모델 간의 일치성을 맞추기 위해 노력하며, 라이브러리의 특성을 이해하기 위해 공식 문서를 참고하는 데 시간을 사용했습니다. 또한, 동적인 데이터 처리로 데이터가 갱신될 때 올바르게 반영되지 않는 문제를 해결하기 위해 RX의 BehaviorSubject 및 다양한 오퍼레이터를 활용했습니다. 이를 통해 RX의 개념과 작업 흐름을 단기간에 익힐 수 있었고, 다양한 오퍼레이터를 활용할 수 있게 되었습니다.<br>

AppStore와 유사한 형태의 앱을 만들기 위해 4일을 기획했으나, 총 6일의 시간이 소요되었습니다. 이전 프로젝트에서의 경험을 토대로 앞으로의 일정을 계획할 때, 기획 시간의 1.3배 정도의 추가시간을 고려해야 한다는 것을 깨달았습니다. 앞으로는 이러한 측면을 유의하여 프로젝트를 진행할 것입니다.<br>

### **작업일지**

| 일자   | 작업 내용                                        |
|-------|-------------------------------------------------|
| 11.08 | - 앱 컨셉 설정 (30m → 15m)                        |
|       | - 프로젝트 기본 세팅 (15m → 30m)                 |
|       | - CommendView 완성 (2h → 2h10m)                  |
| 11.09 | - APIModel, APIManager 완성 (3h → 3h)            |
| 11.11 | - APIModel, APIManager 수정 (1h → 30m)           |
|       | - SearchViewController, SearchTableViewCell 추가 |
|       |   (3h → 2h 40m)                                  |
|       | - searchResultsController 사용으로 관련 코드 수정 |
|       |   (2h → 2h)                                      |
| 11.12 | - searchResultsController 삭제로 코드 되돌리기   |
|       |   (30m → 1h)                                     |
|       | - DetailView, DetailViewController 생성           |
|       |   (30m → 2h)                                     |
| 11.13 | - RX Model 생성 후 코드 적용 (4h → 7h)           |
| 11.14 | - 테스트 (30m → 30m)                             |
|       | - 완성                                            |
